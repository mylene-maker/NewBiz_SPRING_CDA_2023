<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link th:href="@{/css/lib/bootstrap.css}" rel="stylesheet"/>
    <link th:href="@{/css/style.css}" rel="stylesheet"/>
    <title>Page de Connexion</title>
</head>
<body>

<div th:insert="parts/header :: nav"></div>



        <section class="min-vh-100">

            <h1 class=" my-5 ms-3">Créer un compte </h1>

            <div class="container">
                <div class="row">
                    <div class="col-lg-10">

                        <form th:object="${user}"  method="post">

                            <!--afficher les erreurs au dessus du formulaire sous forme de liste-->
                            <div th:if="${#fields.hasAnyErrors()}">

                                <ul>

                                    <li th:each="err: ${#fields.allErrors()}" th:text="${err}" th:value="*{firstname}"></li>

                                </ul>

                            </div>

                            <div th:if="${userExist}"><p>
                                Ce nom d'utilisateur existe déjà...</p>
                            </div>
                            <!--mise en place du token de sécurité  (permet de vérifié que la perosnne qui soumet le formulaire (POST) et bien celle qui en a fait la demande (GET))     -->
                            <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">

                            <!--  Les champs du formulaire      -->
                            <!------------------------------Formulaire--------------------------------------->
                            <div class="form-group col-lg-4 col-md-8 col-sm-8">
                                <label class="form-label mt-4"  for="username">Username</label>
                                <input class="form-control" id="username" type="text" th:field="*{username}" th:value="*{username}" />
                                <div th:if="${userExist}">Ce nom d'utilisateur existe déjà...</div>
                            </div>

                            <div class="form-group col-lg-4 col-md-8 col-sm-8">
                                <label class="form-label mt-4"  for="firstname">firstname</label>
                                <input class="form-control" id="firstname" type="text" th:field="*{firstname}" th:value="*{firstname}"/>
                            </div>

                            <div class="form-group col-lg-4 col-md-8 col-sm-8">
                                <label class="form-label mt-4"  for="lastname">lastname</label>
                                <input class="form-control" id="lastname" type="text" th:field="*{lastname}" th:value="*{lastname}"/>
                            </div>

                            <div class="form-group col-lg-4 col-md-8 col-sm-8">
                                <label class="form-label mt-4"  for="password">password</label>
                                <input class="form-control" id="password" type="password" th:field="*{password}" th:value="*{password}"/>
                            </div>

                            <div class="form-group col-lg-4 col-md-8 col-sm-8">
                                <label class="form-label mt-4"  for="confirmPassword">password confirm</label>
                                <input class="form-control" id="confirmPassword" type="password" th:field="*{confirmPassword}"  th:value="*{confirmPassword}"/>
                            </div>

                            <div class="mt-5">
                                <button class="btn btn-outline-primary" type="submit">Valider</button>
                            </div>

                        </form>

                    </div>
                </div>
            </div>

        </section>
<div th:insert="parts/footer :: footer"></div>




<script type="text/javascript" th:src="@{/js/lib/bootstrap.bundle.js}"/>
<script type="text/javascript" th:src="@{/js/lib/bootstrap.js}"/>
</body>
</html>
    </body>
</html>